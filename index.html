<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QH1507240C"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-QH1507240C');
    </script>

    <!-- Page Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MYAUX</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/logo/favicon.png">

    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

    <!-- Page Title -->
    <h1>MYAUX</h1>

    <!-- Logo Image -->
    <img src="assets/images/logo/myauxlogo.png" alt="Myaux Logo" class="home-logo">

    <!-- Home Page Buttons -->
    <div class="home-page-buttons">
        <a href="AGAIN.html"><button>AGAIN?</button></a>
        <a href="CARPE DIEM.html"><button>CARPE DIEM</button></a>
        <a href="REGULAR.html"><button>REGULAR</button></a>
        <a href="GOT ME.html"><button>GOT ME</button></a>
        <a href="COLLUM - EP.html"><button>COLLUM - EP</button></a>
        <a href="222.html"><button>222</button></a>
        <a href="DOUBLE UP.html"><button>DOUBLE UP</button></a>
        <!-- Uncomment to enable more buttons once ready -->
        <!-- <a href="contact.html"><button>Contact</button></a> -->
    </div>

    <!-- Updates Message -->
    <p>Instagram: @myauxllc</p>

    <!-- Site JS -->
    <script src="assets/js/script.js"></script>

    <!-- ‚úÖ Visitor Ping with IP + Location + Debug Logs -->
    <script>
      fetch("https://ip-api.com/json/")
        .then(res => res.json())
        .then(data => {
          console.log("üì° IP-API Response:", data); // ‚úÖ Log the full API response

          if (!data || !data.query) {
            console.warn("‚ùó No IP data found. Skipping ping.");
            return;
          }

          const params = new URLSearchParams({
            page: "HOME",
            ip: data.query || "Missing IP",
            city: data.city || "Unknown City",
            region: data.regionName || "Unknown Region",
            country: data.country || "Unknown Country",
            isp: data.isp || "Unknown ISP"
          });

          const pingUrl = "https://script.google.com/macros/s/AKfycbwEKvM4gfTsiglBjbaN8GoT-fUscpi-9rqDdLSmkoKkN9SBLJF5bUMvq0WTe8UfcH_G/exec?" + params.toString();

          console.log("üöÄ Sending ping to:", pingUrl);

          fetch(pingUrl)
            .then(() => console.log("‚úÖ Visitor ping sent with IP + location"))
            .catch(err => console.error("‚ùå Ping failed", err));
        })
        .catch(err => console.error("‚ùå Failed to fetch IP info:", err));
    </script>

</body>
</html>
